<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        padding: 0;
        margin: 0;
      }
      #wrapper {
        width: 1000px;
        height: 1000px;
        background: yellow;
      }
    </style>

    <script>
      let wrapper;
      const w = 4;
      const h = 4;
      let countX = 150; // 호수
      let countY = 150; // 층수
      let log = []; //사이즈가 0인 배열선언
      let rectArray = []; // 모든 사각형 div를 담고 있을배열

      //그림판에 셀 역활을 할 div를 대량으로 만든다.
      function createCell() {
        for (let a = 0; a < countY; a++) {
          for (let i = 0; i < countX; i++) {
            let rect = document.createElement("div");
            rect.style.width = w + "px";
            rect.style.height = h + "px";
            rect.style.position = "absolute";
            rect.style.left = w * i + "px";
            rect.style.top = h * a + "px";
            rect.style.background = "red";
            // rect.style.boxShadow = "0 0 15px rgba(255, 255, 0, 0.6)";

            // 각각의 셀 역활을 하는 rect에게 이벤트를 부여한다,
            rect.addEventListener("mousemove", function () {
              rect.style.background = "yellow";
              console.log("좌표는", i, a);

              // 좌표를 (일차원배열)를 이차원배열에 누적
              log.push([i, a]);
            });
            wrapper.appendChild(rect);
            // 생성된 사각형을 전역 배열에 보관..
            rectArray.push(rect);
          }
        }
      }
      function initPaint() {}

      // 이차원 배열 로그에 쌓여있는 모든 일차원배열을
      // 꺼내서, 해단 좌표의 rect의 백그라운드의 색을
      // 변경해보자
      function replay() {
        // 그림의 초기화(모두 빨강으로)
        for (let i = 0; i < countX * countY; i++) {
          rectArray[i].style.background = "red";
        }

        // 그림복완하기
        // log에 저장된 배열의index를 이용하여
        // 해당 index에 rect의 배경색을 노란색으로
        for (let i = 0; i < log.length; i++) {
          let pos = log[i];
        }
      }

      function init() {
        wrapper = document.getElementById("wrapper");
        createCell();
      }

      addEventListener("load", function () {
        init();
      });
    </script>
  </head>
  <body>
    <div id="wrapper"></div>
    <button onclick="replay()">재생하기</button>
  </body>
</html>
